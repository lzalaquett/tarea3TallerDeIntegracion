(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/avion.0edbe88f.png"},139:function(e,t,n){},140:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},187:function(e,t,n){},217:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(24),i=n.n(s),r=(n(182),n(356)),o=n(69),l=n(360),j=(n(183),n(6)),u=function(){return Object(j.jsx)("div",{className:"header-container",children:Object(j.jsx)(r.a,{ghost:!1,onBack:function(){return window.history.back()},title:"Fly Traker",subTitle:"have everything under control in one place",extra:[Object(j.jsx)(o.a,{children:"Operation"},"3"),Object(j.jsx)(o.a,{children:"Operation"},"2"),Object(j.jsx)(o.a,{type:"primary",children:"Primary"},"1")],children:Object(j.jsxs)(l.b,{size:"small",column:3,children:[Object(j.jsx)(l.b.Item,{label:"Created",children:"Lucas Zalaquett"}),Object(j.jsx)(l.b.Item,{label:"Entrega",children:"Tarea n\xb03"}),Object(j.jsx)(l.b.Item,{label:"Creation Time",children:"2017-01-10"})]})})})},b=function(){return Object(j.jsx)(u,{})},d=n(78),h=n(35),O=n(357),m=n(352),x=n(361),p=n(353),f=n(354),g=n(355),v=n(36),S=n.n(v),N=new S.a.Icon({iconUrl:n(122),iconRetinaUrl:n(122),iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new S.a.Point(20,20),className:"leaflet-div-icon"}),y=(n(187),function(e){var t=e.center,n=e.dataVuelos,c=e.positions,a=e.options;return Object(j.jsxs)(O.a,{title:"Mapa",id:"mapacard",children:[Object(j.jsxs)(m.a,{center:t,zoom:4,scrollWheelZoom:!1,children:[Object(j.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"}),c.map((function(e,t){return Object(j.jsx)(p.a,{position:[e.position[0],e.position[1]],icon:N,children:Object(j.jsx)(f.a,{children:e.code})},"".concat(t,"-markers"))})),n.map((function(e,t){return Object(j.jsx)(g.a,{pathOptions:a,positions:[e.origin,e.destination]},"".concat(t,"-lineas"))}))]}),c.map((function(e,t){return Object(j.jsxs)("p",{children:[e.code,e.position]},"".concat(t,"-markers"))}))]})}),C=n(170),I=Object(C.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),T=a.a.createContext(),w=I,k=n(70),F=(n(139),function(e){var t=e.info;return Object(j.jsxs)(O.a,{title:t.code,className:"card-vuelo",children:[Object(j.jsx)("h3",{children:t.airline}),Object(j.jsx)("h3",{children:t.plane}),Object(j.jsxs)("h3",{children:[t.seats," asientos"]}),Object(j.jsx)("ul",{children:t.passengers.map((function(e,t){return Object(j.jsxs)("li",{children:[e.name,", edad: ",e.age]},"".concat(t,"-pasajeros"))}))})]})}),E=function(e){var t=e.data,n=e.handleClick;return Object(j.jsxs)(O.a,{title:"Vuelos",children:[Object(j.jsx)(o.a,{onClick:n,children:"cargar vuelos"}),Object(j.jsx)(k.a,{children:t.map((function(e,t){return Object(j.jsx)(F,{info:e},"".concat(t,"-card-vuelo"))}))})]})},L=function(){var e=Object(c.useContext)(T),t=Object(c.useState)([]),n=Object(h.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(h.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)({code:"0000000"}),b=Object(h.a)(u,2),O=(b[0],b[1]),m=Object(c.useState)([{code:"000",position:[0,0]}]),x=Object(h.a)(m,2),p=x[0],f=x[1];Object(c.useEffect)((function(){return e.on("POSITION",(function(e){if(O(e),-1===o.indexOf(e.code))l([].concat(Object(d.a)(o),[e.code])),f([].concat(Object(d.a)(p),[e]));else{var t=o.indexOf(e.code),n=p;n[t]=e,f(n)}})),function(){e.off("POSITION")}}),[p]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y,{center:[-33.270374,-70.661969],options:{color:"blue"},positions:p,dataVuelos:a}),Object(j.jsx)(E,{data:a,handleClick:function(t){return e.emit("FLIGHTS",""),e.on("FLIGHTS",(function(e){s(e),console.log(a)})),function(){e.off("FLIGHTS")}},positions:p})]})},A=(n(217),n(358)),P=n(359),z=(n(140),function(e){e.userName;var t=e.handlesubbmit;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Coloque un nombre de usuario para activar el chat"}),Object(j.jsxs)(A.a,{name:"basic",onFinish:t,children:[Object(j.jsx)(A.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(j.jsx)(P.a,{})}),Object(j.jsx)(A.a.Item,{children:Object(j.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})}),H=function(e){var t=e.mensajes,n=e.userName,c=e.handlesubbmit,a=e.isLogueado,s=e.handleMsg;return Object(j.jsx)(O.a,{title:"Chat",id:"chat-card",children:a?Object(j.jsxs)("div",{className:"chat-en-si",children:[Object(j.jsx)("div",{className:"mensajes-box",children:t.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h5",{className:e.name===n?"self-msg-username":"other-msg-username",children:[e.name," a las ",e.date,": "]}),Object(j.jsx)("p",{className:e.name===n?"self-msg":"other-msg",children:e.message},"".concat(t,"-m"))]})}))}),Object(j.jsx)("div",{className:"input-form",children:Object(j.jsxs)(A.a,{name:"basic",onFinish:s,children:[Object(j.jsx)(A.a.Item,{name:"message",children:Object(j.jsx)(P.a,{placeholder:"escribe un mensaje"})}),Object(j.jsx)(A.a.Item,{children:Object(j.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]}):Object(j.jsx)(z,{userName:n,handlesubbmit:c})})},M=function(){var e=Object(c.useContext)(T),t=Object(c.useState)([]),n=Object(h.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),r=Object(h.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(!1),b=Object(h.a)(u,2),O=b[0],m=b[1];Object(c.useEffect)((function(){return e.on("CHAT",(function(e){s([].concat(Object(d.a)(a),[e]))})),function(){e.off("CHAT","")}}),[a]);return Object(j.jsx)("div",{children:Object(j.jsx)(H,{mensajes:a,userName:o,handlesubbmit:function(e){console.log("Success:",e),l(e.username),m(!0)},isLogueado:O,handleMsg:function(t){console.log("Success:",t),e.emit("CHAT",{name:o,message:t.message})}})})},q=n(116),U=function(){return console.log("SE REnderiza app"),Object(c.useEffect)((function(){console.log("SE REnderiza app")})),Object(j.jsx)(T.Provider,{value:w,children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"map-container",children:Object(j.jsx)(L,{})}),Object(j.jsx)("div",{className:"chat-container",children:Object(j.jsx)(M,{})}),Object(j.jsx)("div",{className:"vuelos-container"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(q.Footer,{style:{textAlign:"center"},children:"Creado por Lucas Zalaquett para la tarea 3 de taller de integraci\xf3n"})})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,362)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(U,{})}),document.getElementById("root")),B()}},[[348,1,2]]]);
//# sourceMappingURL=main.588eea48.chunk.js.map