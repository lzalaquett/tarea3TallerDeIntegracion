(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/airplane.0319f624.svg"},121:function(e,t,n){},133:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},154:function(e,t,n){},184:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(26),i=n.n(s),r=(n(149),n(28)),o=n(261),l=n(59),j=n(264),u=(n(150),n(6)),b=function(){return Object(u.jsx)("div",{className:"header-container",children:Object(u.jsx)(o.a,{ghost:!1,onBack:function(){return window.history.back()},title:"Fly Traker",subTitle:"have everything under control in one place",extra:[Object(u.jsx)(l.a,{children:"Operation"},"3"),Object(u.jsx)(l.a,{children:"Operation"},"2"),Object(u.jsx)(l.a,{type:"primary",children:"Primary"},"1")],children:Object(u.jsxs)(j.b,{size:"small",column:3,children:[Object(u.jsx)(j.b.Item,{label:"Created",children:"Lucas Zalaquett"}),Object(u.jsx)(j.b.Item,{label:"Entrega",children:"Tarea n\xb03"}),Object(u.jsx)(j.b.Item,{label:"Creation Time",children:"2017-01-10"})]})})})},d=function(){return Object(u.jsx)(b,{})},O=n(68),h=n(262),m=n(256),x=n(265),f=n(257),p=n(258),v=n(259),g=n(30),S=n.n(g),y=new S.a.Icon({iconUrl:n(104),iconRetinaUrl:n(104),iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new S.a.Point(20,20),className:"leaflet-div-icon"}),C=(n(154),function(e){var t=e.center,n=e.dataVuelos,c=e.positions,a=e.options;return Object(u.jsx)(h.a,{title:"Mapa",children:Object(u.jsxs)(m.a,{center:t,zoom:4,scrollWheelZoom:!1,children:[Object(u.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"}),c.map((function(e,t){return Object(u.jsx)(f.a,{position:e.position,icon:y,children:Object(u.jsx)(p.a,{children:e.code})},"".concat(t,"-markers"))})),n.map((function(e,t){return Object(u.jsx)(v.a,{pathOptions:a,positions:[e.origin,e.destination]},"".concat(t,"-lineas"))}))]})})}),N=n(137),I=Object(N.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),w=a.a.createContext(),T=I,k=function(e){var t=e.dataVuelos,n=Object(c.useContext)(w),a=Object(c.useState)({code:"0000000"}),s=Object(r.a)(a,2),i=(s[0],s[1]),o=Object(c.useState)([]),l=Object(r.a)(o,2),j=l[0],b=l[1],d=Object(c.useState)([]),h=Object(r.a)(d,2),m=h[0],x=h[1];Object(c.useEffect)((function(){return n.on("POSITION",f),function(){n.off()}}),[m]);var f=function(e){if(i(e),-1===j.indexOf(e.code))b([].concat(Object(O.a)(j),[e.code])),x([].concat(Object(O.a)(m),[e]));else{var t=j.indexOf(e.code),n=m;n[t]=e,x(n)}};return Object(u.jsx)("div",{children:Object(u.jsx)(C,{center:[-33.270374,-70.661969],options:{color:"blue"},positions:m,dataVuelos:t})})},F=(n(184),n(260)),L=n(263),P=(n(121),function(e){e.userName;var t=e.handlesubbmit;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Coloque un nombre de usuario para activar el chat"}),Object(u.jsxs)(F.a,{name:"basic",onFinish:t,children:[Object(u.jsx)(F.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(u.jsx)(L.a,{})}),Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})}),V=function(e){var t=e.mensajes,n=e.userName,c=e.handlesubbmit,a=e.isLogueado,s=e.handleMsg;return Object(u.jsxs)(h.a,{title:"Chat",children:[a?Object(u.jsx)("div",{className:"chat-en-si",children:t.map((function(e,t){return Object(u.jsxs)("p",{className:e.name===n?"self-msg":"other-msg",children:[e.name," at ",e.date,": ",e.message]},"".concat(t,"-m"))}))}):Object(u.jsx)(P,{userName:n,handlesubbmit:c}),Object(u.jsxs)(F.a,{name:"basic",onFinish:s,children:[Object(u.jsx)(F.a.Item,{name:"message",rules:[{required:!0,message:"escriba un mensaje"}],children:Object(u.jsx)(L.a,{})}),Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})},A=function(){var e=Object(c.useContext)(w),t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1],b=Object(c.useState)(!1),d=Object(r.a)(b,2),h=d[0],m=d[1];Object(c.useEffect)((function(){return e.on("CHAT",x),function(){e.off()}}),[a]);var x=function(e){s([].concat(Object(O.a)(a),[e])),console.log(e)};return Object(u.jsx)("div",{children:Object(u.jsx)(V,{mensajes:a,userName:l,handlesubbmit:function(e){console.log("Success:",e),j(e.username),m(!0)},isLogueado:h,handleMsg:function(t){console.log("Success:",t),e.emit("CHAT",{name:l,message:t.message})}})})},z=n(60),M=(n(133),function(e){var t=e.info;return Object(u.jsxs)(h.a,{title:t.code,className:"card-vuelo",children:[Object(u.jsx)("h3",{children:t.airline}),Object(u.jsx)("h3",{children:t.plane}),Object(u.jsxs)("h3",{children:[t.seats," asientos"]}),Object(u.jsx)("ul",{children:t.passengers.map((function(e,t){return Object(u.jsxs)("li",{children:[e.name,", edad: ",e.age]})}))})]})}),q=function(e){var t=e.data,n=e.handleClick;return Object(u.jsxs)(h.a,{title:"Vuelos",children:[Object(u.jsx)(l.a,{onClick:n,children:"cargar vuelos"}),Object(u.jsx)(z.a,{children:t.map((function(e,t){return Object(u.jsx)(M,{info:e},"".concat(t,"-card-vuelo"))}))})]})},E=function(e){var t=e.vuelos,n=e.setVuelos,a=Object(c.useContext)(w);return Object(u.jsx)(q,{data:t,handleClick:function(e){a.emit("FLIGHTS",""),a.on("FLIGHTS",(function(e){n(e),console.log(t)}))}})},H=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(u.jsx)(w.Provider,{value:T,children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{}),Object(u.jsxs)("div",{className:"body",children:[Object(u.jsx)("div",{className:"map-container",children:Object(u.jsx)(k,{dataVuelos:n})}),Object(u.jsx)("div",{className:"chat-container",children:Object(u.jsx)(A,{})}),Object(u.jsx)("div",{className:"vuelos-container",children:Object(u.jsx)(E,{vuelos:n,setVuelos:a})})]})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,266)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(H,{})}),document.getElementById("root")),U()}},[[252,1,2]]]);
//# sourceMappingURL=main.bad1ac32.chunk.js.map