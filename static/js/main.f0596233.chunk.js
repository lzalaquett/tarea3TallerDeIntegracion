(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/avion.0edbe88f.png"},137:function(e,t,n){},138:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},187:function(e,t,n){},217:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(24),i=n.n(s),r=(n(182),n(27)),o=n(355),l=n(70),j=n(359),u=(n(183),n(6)),d=function(){return Object(u.jsx)("div",{className:"header-container",children:Object(u.jsx)(o.a,{ghost:!1,onBack:function(){return window.history.back()},title:"Fly Traker",subTitle:"have everything under control in one place",extra:[Object(u.jsx)(l.a,{children:"Operation"},"3"),Object(u.jsx)(l.a,{children:"Operation"},"2"),Object(u.jsx)(l.a,{type:"primary",children:"Primary"},"1")],children:Object(u.jsxs)(j.b,{size:"small",column:3,children:[Object(u.jsx)(j.b.Item,{label:"Created",children:"Lucas Zalaquett"}),Object(u.jsx)(j.b.Item,{label:"Entrega",children:"Tarea n\xb03"}),Object(u.jsx)(j.b.Item,{label:"Creation Time",children:"2017-01-10"})]})})})},b=function(){return Object(u.jsx)(d,{})},O=n(78),h=n(356),m=n(352),x=n(360),f=n(353),p=n(361),v=n(354),g=n(36),N=n.n(g),y=(new N.a.Icon({iconUrl:n(120),iconRetinaUrl:n(120),iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new N.a.Point(20,20),className:"leaflet-div-icon"}),n(187),function(e){var t=e.center,n=e.dataVuelos,c=e.positions,a=e.options,s=e.options2;return Object(u.jsx)(h.a,{title:"Mapa",id:"mapacard",children:Object(u.jsxs)(m.a,{center:t,zoom:4,scrollWheelZoom:!1,children:[Object(u.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"}),n.map((function(e,t){return Object(u.jsx)(f.a,{pathOptions:s,positions:[e.origin,e.destination]},"".concat(t,"-lineas"))})),c.map((function(e,t){return Object(u.jsx)(p.a,{center:[e.position[0],e.position[1]],pathOptions:a,radius:10,children:Object(u.jsx)(v.a,{children:e.code})},"".concat(t,"-markers"))}))]})})}),C=n(168),S=Object(C.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),I=a.a.createContext(),T=S,F=n(71),w=(n(137),function(e){var t=e.info;return Object(u.jsxs)(h.a,{title:t.code,className:"card-vuelo",children:[Object(u.jsx)("h3",{children:t.airline}),Object(u.jsx)("h3",{children:t.plane}),Object(u.jsxs)("h3",{children:[t.seats," asientos"]}),Object(u.jsx)("ul",{children:t.passengers.map((function(e,t){return Object(u.jsxs)("li",{children:[e.name,", edad: ",e.age]},"".concat(t,"-pasajeros"))}))})]})}),k=function(e){var t=e.data,n=e.handleClick;return Object(u.jsxs)(h.a,{title:"Vuelos",children:[Object(u.jsx)(l.a,{onClick:n,className:"btn-cargar",children:"cargar vuelos"}),Object(u.jsx)(F.a,{children:t.map((function(e,t){return Object(u.jsx)(w,{info:e},"".concat(t,"-card-vuelo"))}))})]})},L=function(e){var t=e.vuelos,n=Object(c.useContext)(I),a=Object(c.useState)([]),s=Object(r.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)({code:"0000000"}),j=Object(r.a)(l,2),d=(j[0],j[1]),b=Object(c.useState)([{code:"000",position:[0,0]}]),h=Object(r.a)(b,2),m=h[0],x=h[1];return Object(c.useEffect)((function(){return n.on("POSITION",(function(e){if(d(e),-1===i.indexOf(e.code))o([].concat(Object(O.a)(i),[e.code])),x([].concat(Object(O.a)(m),[e]));else{var t=i.indexOf(e.code),n=m;n[t]=e,x(n)}})),function(){n.off("POSITION")}}),[m,i]),Object(u.jsx)("div",{children:Object(u.jsx)(y,{center:[-33.270374,-70.661969],options:{color:"blue"},options2:{color:"red"},positions:m,dataVuelos:t})})},A=(n(217),n(357)),P=n(358),H=(n(138),function(e){e.userName;var t=e.handlesubbmit;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Coloque un nombre de usuario para activar el chat"}),Object(u.jsxs)(A.a,{name:"basic",onFinish:t,children:[Object(u.jsx)(A.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(u.jsx)(P.a,{})}),Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})}),E=function(e){var t=e.mensajes,n=e.userName,a=e.handlesubbmit,s=e.isLogueado,i=e.handleMsg,o=Object(c.useRef)(null),j=A.a.useForm(),d=Object(r.a)(j,1)[0];Object(c.useEffect)((function(){o&&o.current&&o.current.addEventListener("DOMNodeInserted",(function(e){var t=e.currentTarget;t.scroll({top:t.scrollHeight,behavior:"smooth"})}))}),[]);return Object(u.jsx)(h.a,{title:"Chat",id:"chat-card",children:s?Object(u.jsxs)("div",{className:"chat-en-si",children:[Object(u.jsx)("div",{className:"mensajes-box",ref:o,children:t.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h5",{className:e.name===n?"self-msg-username":"other-msg-username",children:[e.name," a las ",e.date,": "]}),Object(u.jsx)("p",{className:e.name===n?"self-msg":"other-msg",children:e.message},"".concat(t,"-m"))]})}))}),Object(u.jsx)("div",{className:"input-form",children:Object(u.jsxs)(A.a,{form:d,name:"basic",onFinish:function(e){i(e),d.resetFields()},layout:"inline",allowClear:!0,children:[Object(u.jsx)(A.a.Item,{name:"message",className:"input.fild",children:Object(u.jsx)(P.a,{placeholder:"escribe un mensaje"})}),Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(l.a,{type:"secondary",htmlType:"submit",children:"Send"})})]})})]}):Object(u.jsx)(H,{userName:n,handlesubbmit:a})})},M=function(){var e=Object(c.useContext)(I),t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),h=b[0],m=b[1],x=A.a.useForm(),f=Object(r.a)(x,1)[0];Object(c.useEffect)((function(){return e.on("CHAT",(function(e){s([].concat(Object(O.a)(a),[e]))})),function(){e.off("CHAT")}}),[a]);return Object(u.jsx)("div",{children:Object(u.jsx)(E,{mensajes:a,userName:l,handlesubbmit:function(e){j(e.username),m(!0)},isLogueado:h,handleMsg:function(t){e.emit("CHAT",{name:l,message:t.message}),f.resetFields()},form:f})})},z=function(e){var t=e.vuelos,n=e.setVuelos,a=Object(c.useContext)(I);return Object(u.jsx)(k,{data:t,handleClick:function(e){return a.emit("FLIGHTS",""),a.on("FLIGHTS",(function(e){n(e),console.log(t)})),function(){a.off("FLIGHTS")}}})},V=n(173),q=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(u.jsx)(I.Provider,{value:T,children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"body",children:[Object(u.jsx)("div",{className:"map-container",children:Object(u.jsx)(L,{vuelos:n})}),Object(u.jsx)("div",{className:"chat-container",children:Object(u.jsx)(M,{})}),Object(u.jsx)("div",{className:"vuelos-container",children:Object(u.jsx)(z,{vuelos:n,setVuelos:a})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(V.Footer,{style:{textAlign:"center"},children:"Creado por Lucas Zalaquett para la tarea 3 de taller de integraci\xf3n"})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,362)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),U()}},[[348,1,2]]]);
//# sourceMappingURL=main.f0596233.chunk.js.map