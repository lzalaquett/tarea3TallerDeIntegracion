{"version":3,"sources":["assets/airplane.svg","components/Header/index.js","pages/HeaderContainer.js","assets/Marker.js","components/Mapa/index.js","components/Socket/index.js","pages/MapContainer.js","components/Chat/LogForm.js","components/Chat/index.js","pages/ChatContainer.js","components/Vuelos/CardVuelo.js","components/Vuelos/index.js","pages/VuelosContainer.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","ghost","onBack","window","history","back","title","subTitle","extra","type","size","column","Item","label","HeaderContainer","MarkerPlane","L","Icon","iconUrl","require","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","MapaBoard","center","dataVuelos","positions","options","zoom","scrollWheelZoom","TileLayer","attribution","url","map","plane","idx","Marker","position","icon","Tooltip","code","data","Polyline","pathOptions","origin","destination","socket","io","path","SocketContext","React","createContext","MapContainer","useContext","useState","setInfoVuelo","listaCodes","setListaCodes","flightsData","setFlightsData","useEffect","on","handlePositionEvent","off","indexOf","auxData","Mapa","color","LogForm","userName","handlesubbmit","name","onFinish","rules","required","message","htmlType","ChatBoard","mensajes","isLogueado","handleMsg","mensaje","date","ChatContainer","chatMsg","setChatMsg","setUsername","logueado","setLogueado","handleChatEvent","console","log","Chat","values","username","emit","CardVuelo","info","airline","seats","passengers","passenger","age","VuelosBoard","handleClick","onClick","vuelo","VuelosContainer","vuelos","setVuelos","Vuelos","e","App","Provider","value","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bad1ac32.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/airplane.0319f624.svg\";","import { Button, Descriptions, PageHeader } from \"antd\";\nimport React from \"react\";\nimport \"./style.css\"\n\nconst Header = () => (\n    <div className=\"header-container\">\n        <PageHeader\n            ghost={false}\n            onBack={() => window.history.back()}\n            title=\"Fly Traker\"\n            subTitle=\"have everything under control in one place\"\n            extra={[\n        <Button key=\"3\">Operation</Button>,\n        <Button key=\"2\">Operation</Button>,\n        <Button key=\"1\" type=\"primary\">\n          Primary\n        </Button>,\n      ]}\n    >\n      <Descriptions size=\"small\" column={3}>\n        <Descriptions.Item label=\"Created\">Lucas Zalaquett</Descriptions.Item>\n        <Descriptions.Item label=\"Entrega\">Tarea nÂ°3</Descriptions.Item>\n        <Descriptions.Item label=\"Creation Time\">2017-01-10</Descriptions.Item>\n      </Descriptions>\n    </PageHeader>\n    </div>\n);\n\nexport default Header;","import React from \"react\";\nimport Header from \"../components/Header/index\"\n\nconst HeaderContainer = () => {\n    return (\n        <Header/>\n    );\n};\n\nexport default HeaderContainer","import L from 'leaflet';\n\nconst MarkerPlane = new L.Icon({\n    iconUrl: require('./airplane.svg'),\n    iconRetinaUrl: require('./airplane.svg'),\n    iconAnchor: null,\n    popupAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null,\n    iconSize: new L.Point(20, 20),\n    className: 'leaflet-div-icon'\n});\n\nexport { MarkerPlane };","import { Card } from \"antd\";\nimport React from \"react\";\nimport { MapContainer, TileLayer, Marker, Polyline, Tooltip, Circle } from 'react-leaflet'\nimport { MarkerPlane } from \"../../assets/Marker\";\nimport \"./style.css\";\n\nconst MapaBoard = ({ center, dataVuelos, positions, options }) => (\n    <Card title=\"Mapa\">\n      <MapContainer center={center} zoom={4} scrollWheelZoom={false}>\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\"\n        />\n        {positions.map((plane, idx) => (\n          <Marker key={`${idx}-markers`} position={plane.position} icon={ MarkerPlane }>\n            <Tooltip>{plane.code}</Tooltip>\n          </Marker>\n        ))}\n        {dataVuelos.map((data, idx) => (\n          <Polyline key={`${idx}-lineas`} pathOptions={options} positions={[data.origin, data.destination]} />\n        ))}\n      </MapContainer>\n    </Card>\n);\n\nexport default MapaBoard;","import React from \"react\";\nimport { io } from \"socket.io-client\";\n\nlet socket = io(\"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {path : '/flights'});\n\nexport const SocketContext = React.createContext();\n\nexport default socket;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport MapaBoard from \"../components/Mapa/index\";\nimport { SocketContext } from \"../components/Socket\";\n\nconst MapContainer = ({ dataVuelos }) => {\n    const socket = useContext(SocketContext);\n    const [_, setInfoVuelo] = useState({code: '0000000'});\n    const [listaCodes, setListaCodes] = useState([]);\n    const [flightsData, setFlightsData] = useState([]);\n    const center = [-33.270374,-70.661969];\n    const blueOptions = { color: 'blue' };\n\n    useEffect(() => {\n        socket.on('POSITION', handlePositionEvent)\n        return () => {socket.off();}\n    }, [flightsData]);\n\n    const handlePositionEvent = (data) => {\n        setInfoVuelo(data); \n        if (listaCodes.indexOf(data.code) === -1) {\n            setListaCodes([...listaCodes, data.code]);\n            setFlightsData([...flightsData, data]);\n        }\n        else {\n            let idx = listaCodes.indexOf(data.code);\n            let auxData = flightsData;\n            auxData[idx] = data;\n            setFlightsData(auxData);\n        }\n    }\n\n    return (\n        <div>\n            <MapaBoard\n                center={center}\n                options={blueOptions}\n                positions={flightsData}\n                dataVuelos={dataVuelos}\n            />\n        </div>\n    );\n};\n\nexport default MapContainer;","import { Button, Form, Input } from \"antd\";\nimport React from \"react\";\nimport \"./style.css\";\n\n\nconst LogForm = ({ userName, handlesubbmit }) => (\n    <div>\n        <h3>Coloque un nombre de usuario para activar el chat</h3>\n        <Form \n            name=\"basic\"\n            onFinish={handlesubbmit}\n        >\n            <Form.Item\n                label=\"Username\"\n                name=\"username\"\n                rules={[{ required: true, message: 'Please input your username!' }]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    </div>\n);\n\nexport default LogForm;","import { Card, Input, Form, Button } from \"antd\";\nimport React from \"react\";\nimport LogForm from \"./LogForm\";\nimport \"./style.css\";\n\nconst ChatBoard = ({ mensajes, userName, handlesubbmit, isLogueado, handleMsg }) => (\n    <Card title=\"Chat\">\n    {!isLogueado ?\n    <LogForm\n        userName={userName}\n        handlesubbmit={handlesubbmit}\n    /> : \n    <div className=\"chat-en-si\">\n      {mensajes.map((mensaje, idx) => (\n        <p key={`${idx}-m`} className={mensaje.name === userName ? 'self-msg' : 'other-msg'}>{mensaje.name} at {mensaje.date}: {mensaje.message}</p>\n      ))}\n    </div>}\n    <Form\n      name=\"basic\"\n      onFinish={handleMsg}\n    >\n      <Form.Item\n        name=\"message\"\n        rules={[{ required: true, message: 'escriba un mensaje'}]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n      \n    </Form>\n    </Card>\n);\n\nexport default ChatBoard;","import React, { useContext, useEffect, useState } from \"react\";\nimport ChatBoard from \"../components/Chat\";\nimport LogForm from \"../components/Chat/LogForm\";\nimport { SocketContext } from \"../components/Socket\";\n\nconst ChatContainer = () => {\n    const socket = useContext(SocketContext);\n    const [chatMsg, setChatMsg] = useState([]);\n    const [userName, setUsername] = useState('');\n    const [logueado, setLogueado] = useState(false);\n\n    useEffect(() => {\n        socket.on('CHAT', handleChatEvent)\n        return () => {socket.off();}\n    }, [chatMsg]);\n\n    const handleChatEvent = (data) => {\n        setChatMsg([...chatMsg, data]); \n        console.log(data);\n    }\n\n    const handleLogin = (values) => {\n        console.log('Success:', values);\n        setUsername(values.username)\n        setLogueado(true);\n    };\n\n    const handleMsg = (values) => {\n        console.log('Success:', values);\n        socket.emit('CHAT', {name: userName, message: values.message});\n    }\n\n    return (\n        <div>\n            <ChatBoard\n                mensajes={chatMsg}\n                userName={userName}\n                handlesubbmit={handleLogin}\n                isLogueado={logueado}\n                handleMsg={handleMsg}\n            />\n        </div>\n    );\n};\n\nexport default ChatContainer;","import { Card } from \"antd\";\nimport React from \"react\";\nimport \"./style.css\";\n\nconst CardVuelo = ({ info }) => (\n    \n    <Card title={info.code}  className=\"card-vuelo\">\n        <h3>{info.airline}</h3>\n        <h3>{info.plane}</h3>\n        <h3>{info.seats} asientos</h3>\n        <ul>\n        {info.passengers.map((passenger, idx) => (\n            <li>{passenger.name}, edad: {passenger.age}</li>\n        ))}\n        </ul>\n    </Card> \n);\n\nexport default CardVuelo;","import { Button, Card, Row } from \"antd\";\nimport React from \"react\";\nimport CardVuelo from \"./CardVuelo\";\nimport \"./style.css\";\n\nconst VuelosBoard = ({ data, handleClick }) => (\n    <Card title=\"Vuelos\">\n        <Button onClick={handleClick}>cargar vuelos</Button>\n        <Row>\n        {data.map((vuelo, idx) => (\n            <CardVuelo\n                info={vuelo}\n                key={`${idx}-card-vuelo`}\n            />\n        ))}\n        </Row>\n    </Card>\n);\n\nexport default VuelosBoard;","import React, { useContext, useEffect, useState } from \"react\";\nimport MapaBoard from \"../components/Mapa/index\";\nimport { SocketContext } from \"../components/Socket\";\nimport VuelosBoard from \"../components/Vuelos\";\n\nconst VuelosContainer = ({vuelos, setVuelos }) => {\n    const socket = useContext(SocketContext);\n\n    const handleClickfuncion = (e) => {\n        socket.emit('FLIGHTS', '');\n        socket.on('FLIGHTS', (data) => {\n            setVuelos(data);\n            console.log(vuelos);\n        })\n    }\n\n    return (\n        <VuelosBoard\n            data={vuelos}\n            handleClick={handleClickfuncion}\n        />\n    );\n};\n\nexport default VuelosContainer;","import React, { useEffect, useState } from 'react';\nimport HeaderContainer from './pages/HeaderContainer';\nimport MapContainer from './pages/MapContainer';\nimport socket, { SocketContext } from \"./components/Socket/index\";\n\nimport './App.css';\nimport ChatContainer from './pages/ChatContainer';\nimport VuelosContainer from './pages/VuelosContainer';\n\n\nconst App = () => {\n\n  const [vuelos, setVuelos] = useState([]);\n\n  return (\n    <SocketContext.Provider value={socket}>\n      <div className=\"App\">\n        <HeaderContainer/>\n        <div className=\"body\">\n          <div className=\"map-container\">\n            <MapContainer\n              dataVuelos={vuelos}\n              />\n          </div>\n          <div className=\"chat-container\">\n            <ChatContainer/>\n          </div>\n          <div className=\"vuelos-container\">\n            <VuelosContainer\n              vuelos={vuelos}\n              setVuelos={setVuelos}\n            />\n          </div>\n        </div>\n      </div>\n    </SocketContext.Provider>\n    \n  );\n};\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}